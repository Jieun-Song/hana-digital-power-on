package net.daum.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.servlet.ModelAndView;

import jakarta.servlet.http.HttpServletRequest;
import net.daum.service.BoardService;
import net.daum.vo.BoardVO;

@Controller
@RequestMapping("/board/*") // 컨트롤러 자체 매핑주소 등록 
public class BoardController {
	
	@Autowired
	private BoardService boardService;
	
	//게시판 글쓰기 폼
	@RequestMapping(value="/board_write",method=RequestMethod.GET) // get으로 접근하는
	//매핑주소처리, boardPwrite 매핑주소 등록
	public void board_write() {
		//리턴타입이 없는 void형이면 매핑주소가 뷰페이지 파일명이 된다. 뷰페이지 경로는 
		// /WEB-INF/views/board/board_write.jsp
		
		
	}//board_write()
	
	//게시판 저장
	@PostMapping("/board_write_ok") // POST로 접근하는 매핑주소를 처리
	public String board_write_ok(BoardVO b) {
		//board_write.jsp의 네임파라미터 이름과 BoardVO.java의 변수명이 같으면 BoardVO
		//b객체에 글쓴이, 글제목, 글내용 값이 저장되어있다.
		this.boardService.insertBoard(b);//게시판 저
		return "redirect:/board/board_list";
	}//board_write_ok()
	
	//게시판목록
	@GetMapping("/board_list")
	public ModelAndView board_list(BoardVO b, HttpServletRequest request) {
		ModelAndView listM = new ModelAndView("board/board_list");//생성자 인자값으로 뷰페이지 경로설정
		return listM;
	}//board_list()
}
